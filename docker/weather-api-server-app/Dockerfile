# Docker image for Weather API Server

ARG SWAGGER_CODEGEN=https://github.com/swagger-api/swagger-codegen/archive/
ARG SWAGGER_VERSION=swagger-codegen-3.0.35
ARG SWAGGER_PACKAGE=v3.0.35.tar.gz
ARG SWAGGER_CODEGEN_BUILD_REPO=/usr/local/codegen_build

FROM openjdk:11-jdk-slim as swagger_builder

ARG SWAGGER_CODEGEN
ARG SWAGGER_VERSION
ARG SWAGGER_PACKAGE
ARG SWAGGER_CODEGEN_BUILD_REPO

RUN mkdir -p ${SWAGGER_CODEGEN_BUILD_REPO}
WORKDIR ${SWAGGER_CODEGEN_BUILD_REPO}

RUN wget -nv ${SWAGGER_CODEGEN}${SWAGGER_PACKAGE} \
 && tar -xvzf ${SWAGGER_CODEGEN_BUILD_REPO}/${SWAGGER_PACKAGE}

WORKDIR ${SWAGGER_CODEGEN_BUILD_REPO}/${SWAGGER_VERSION}
RUN mvn clean package

